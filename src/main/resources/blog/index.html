<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
	<head>
		<meta charset="utf-8" />
    	<title>imdzz's Blog</title>
	    <link rel="shortcut icon" href="favicon.ico"> 
	    <link rel="stylesheet" href="css/index.css">
	    <script type="text/javascript" src="js/jquery-3.4.1.min.js"></script>
        <script type="text/javascript" src="js/blog.js" ></script>
	</head>
	<body>
		<div id="left">
			<p id="left-visitor">访问人次：<span >20</span></p>
			<div id="left-top">
				<h1 id="left-title">imdzz's blog</h1>
				<!--
                	作者：offline
                	时间：2019-10-10
                	描述：后期添加功能，每当有人发出消息，该图片就发出心跳
                -->
				<img id="icon" src="img/黑色漩涡.jpg" onclick="chat()"/>

				<div id="breaf-introd">
					这是一家书店，你可以随便看看<br />
				</div>
			</div>
			<ul id="social-list">
				<li class="social-list-item">
					<a href="https://github.com/im-dzz">github</a>
				</li>
				<li class="social-list-item">
					<a href="https://github.com/im-dzz">小程序</a>
				</li>
			</ul><!--//social-list-->
			<hr id="left-hr" />
			<ul id="menu-list">
				<li class="menu-list-item">
					<a href="blog.html">主页	</a>
				</li>
				<li class="menu-list-item">
					<a href="https://github.com/im-dzz">关于作者</a>
				</li>
			</ul><!--//social-list-->
			<div id="left-bottom">
				<span id="left-bottom-cont">书店网站开源，源码请点击</span><a href="https://github.com/im-dzz/blog">这里</a>
			</div>
			
			<div id="left-chat">
				<div id="chat-box">
					<div class="message-box">
                        <p class="message-cont">你好，我是小米</p>
                    </div>
                    <div class="message-box">
                        <p class="message-cont">你好，我是小米</p>
                    </div>
				</div>
				<textarea id="chat-input" name="reworkmes" rows="3" cols="40" maxlength="100" placeholder="说点什么...">
				</textarea>
				<input id="chat-send" type="button" onclick="charSend()" value="发送" />
			</div>
		</div>
		
		
		
		<div id="mid">
			<div id="blog-list">
				<div class="blog-item">
					<div class="blog-item-left">
						<img class="blog-item-left-img" src="img/blog/default.jpg"/>
					</div>
					<div class="blog-item-right">
						<h3 class="blog-item-right-title"><a href="xxxx.xxxx">格林童话</a></h3>

						<span class="blog-item-right-classification">
							分类：儿童读物
						</span>
						&nbsp;&nbsp;
						<span class="blog-item-right-createdate">
							创建时间：2019-09-29 15:55:55
						</span>
						&nbsp;&nbsp;
						<span class="blog-item-right-readNum">
							阅读数：100
						</span>
					</div>
				</div>
				<hr />
				<div class="blog-item">
					<div class="blog-item-left">
						<img class="blog-item-left-img" src="img/blog/default.jpg"/>
					</div>
					<div class="blog-item-right">
						<h3 class="blog-item-right-title"><a href="xxxx.xxxx">格林童话</a></h3>

						<span class="blog-item-right-classification">
							分类：儿童读物
						</span>
						&nbsp;&nbsp;
						<span class="blog-item-right-createdate">
							创建时间：2019-09-29 15:55:55
						</span>
						&nbsp;&nbsp;
						<span class="blog-item-right-readNum">
							阅读数：100
						</span>
					</div>
				</div>
				<hr />
				<div class="blog-item">
					<div class="blog-item-left">
						<img class="blog-item-left-img" src="img/blog/default.jpg"/>
					</div>
					<div class="blog-item-right">
						<h3 class="blog-item-right-title"><a href="xxxx.xxxx">格林童话</a></h3>

						<span class="blog-item-right-classification">
							分类：儿童读物
						</span>
						&nbsp;&nbsp;
						<span class="blog-item-right-createdate">
							创建时间：2019-09-29 15:55:55
						</span>
						&nbsp;&nbsp;
						<span class="blog-item-right-readNum">
							阅读数：100
						</span>
					</div>
				</div>
				<hr />
				<div class="blog-item">
					<div class="blog-item-left">
						<img class="blog-item-left-img" src="img/blog/default.jpg"/>
					</div>
					<div class="blog-item-right">
						<h3 class="blog-item-right-title"><a href="xxxx.xxxx">格林童话</a></h3>

						<span class="blog-item-right-classification">
							分类：儿童读物
						</span>
						&nbsp;&nbsp;
						<span class="blog-item-right-createdate">
							创建时间：2019-09-29 15:55:55
						</span>
						&nbsp;&nbsp;
						<span class="blog-item-right-readNum">
							阅读数：100
						</span>
					</div>
				</div>
				<hr />
				<div class="blog-item">
					<div class="blog-item-left">
						<img class="blog-item-left-img" src="img/blog/default.jpg"/>
					</div>
					<div class="blog-item-right">
						<h3 class="blog-item-right-title"><a href="xxxx.xxxx">格林童话</a></h3>

						<span class="blog-item-right-classification">
							分类：儿童读物
						</span>
						&nbsp;&nbsp;
						<span class="blog-item-right-createdate">
							创建时间：2019-09-29 15:55:55
						</span>
						&nbsp;&nbsp;
						<span class="blog-item-right-readNum">
							阅读数：100
						</span>
					</div>
				</div>
				<hr />
				<div class="blog-item">
					<div class="blog-item-left">
						<img class="blog-item-left-img" src="img/blog/default.jpg"/>
					</div>
					<div class="blog-item-right">
						<h3 class="blog-item-right-title"><a href="xxxx.xxxx">格林童话</a></h3>

						<span class="blog-item-right-classification">
							分类：儿童读物
						</span>
						&nbsp;&nbsp;
						<span class="blog-item-right-createdate">
							创建时间：2019-09-29 15:55:55
						</span>
						&nbsp;&nbsp;
						<span class="blog-item-right-readNum">
							阅读数：100
						</span>
					</div>
				</div>
				<hr />
				<div class="blog-item">
					<div class="blog-item-left">
						<img class="blog-item-left-img" src="img/blog/default.jpg"/>
					</div>
					<div class="blog-item-right">
						<h3 class="blog-item-right-title"><a href="xxxx.xxxx">格林童话</a></h3>

						<span class="blog-item-right-classification">
							分类：儿童读物
						</span>
						&nbsp;&nbsp;
						<span class="blog-item-right-createdate">
							创建时间：2019-09-29 15:55:55
						</span>
						&nbsp;&nbsp;
						<span class="blog-item-right-readNum">
							阅读数：100
						</span>
					</div>
				</div>
				<hr />
				<div class="blog-item">
					<div class="blog-item-left">
						<img class="blog-item-left-img" src="img/blog/default.jpg"/>
					</div>
					<div class="blog-item-right">
						<h3 class="blog-item-right-title"><a href="xxxx.xxxx">格林童话</a></h3>

						<span class="blog-item-right-classification">
							分类：儿童读物
						</span>
						&nbsp;&nbsp;
						<span class="blog-item-right-createdate">
							创建时间：2019-09-29 15:55:55
						</span>
						&nbsp;&nbsp;
						<span class="blog-item-right-readNum">
							阅读数：100
						</span>
					</div>
				</div>
				<hr />
				<div class="blog-item">
					<div class="blog-item-left">
						<img class="blog-item-left-img" src="img/blog/default.jpg"/>
					</div>
					<div class="blog-item-right">
						<h3 class="blog-item-right-title"><a href="xxxx.xxxx">格林童话</a></h3>

						<span class="blog-item-right-classification">
							分类：儿童读物
						</span>
						&nbsp;&nbsp;
						<span class="blog-item-right-createdate">
							创建时间：2019-09-29 15:55:55
						</span>
						&nbsp;&nbsp;
						<span class="blog-item-right-readNum">
							阅读数：100
						</span>
					</div>
				</div>
				<hr />
				<div class="blog-item">
					<div class="blog-item-left">
						<img class="blog-item-left-img" src="img/blog/default.jpg"/>
					</div>
					<div class="blog-item-right">
						<h3 class="blog-item-right-title"><a href="xxxx.xxxx">格林童话</a></h3>

						<span class="blog-item-right-classification">
							分类：儿童读物
						</span>
						&nbsp;&nbsp;
						<span class="blog-item-right-createdate">
							创建时间：2019-09-29 15:55:55
						</span>
						&nbsp;&nbsp;
						<span class="blog-item-right-readNum">
							阅读数：100
						</span>
					</div>
				</div>
				<hr />
				<div class="blog-item">
					<div class="blog-item-left">
						<img class="blog-item-left-img" src="img/blog/default.jpg"/>
					</div>
					<div class="blog-item-right">
						<h3 class="blog-item-right-title"><a href="xxxx.xxxx">格林童话</a></h3>

						<span class="blog-item-right-classification">
							分类：儿童读物
						</span>
						&nbsp;&nbsp;
						<span class="blog-item-right-createdate">
							创建时间：2019-09-29 15:55:55
						</span>
						&nbsp;&nbsp;
						<span class="blog-item-right-readNum">
							阅读数：100
						</span>
					</div>
				</div>
				<hr />
				<div class="blog-item">
					<div class="blog-item-left">
						<img class="blog-item-left-img" src="img/blog/default.jpg"/>
					</div>
					<div class="blog-item-right">
						<h3 class="blog-item-right-title"><a href="xxxx.xxxx">格林童话</a></h3>

						<span class="blog-item-right-classification">
							分类：儿童读物
						</span>
						&nbsp;&nbsp;
						<span class="blog-item-right-createdate">
							创建时间：2019-09-29 15:55:55
						</span>
						&nbsp;&nbsp;
						<span class="blog-item-right-readNum">
							阅读数：100
						</span>
					</div>
				</div>
				<hr />
			</div>
		</div>
		
		<div id="loginWindow">
			<div id="login-head">
				<span id="login-title" >登录</span>
				<input id="closeLoginWindowBtn" type="button" value="关闭" onclick="closeLoginWindow()"/>
			</div>
			<!-- 单元格之间的距离:cellspacing. 单元格内容与其边框之间的距离：cellingpadding -->
			<table id="login-table" border="none" cellspacing="10" cellpadding="0">
				<tr><td>用户名：</td><td><input id="username" type="text" placeholder="用户名" maxlength="10" /></td></tr>
				<tr><td>密码：</td><td><input id="password" type="password" placeholder="密码" maxlength="20" /></td></tr>
			</table>			
			<input id="loginBtn" type="button" value="登录" onclick="login()" />
			<a href="register">注册</a>
		</div>
		
		<div id="right-classifications">
			<ul id="classifications">
				<li class="classification">
					<img class="classification-img" src="img/blog/blog-post-thumb-3.jpg"/>
					<span class="classification-cont">儿童文学</span>
				</li>
				<li class="classification">
					<img class="classification-img" src="img/blog/blog-post-thumb-3.jpg"/>
					<span class="classification-cont">儿童文学</span>

				</li>
				<li class="classification">
					<img class="classification-img" src="img/blog/blog-post-thumb-3.jpg"/>
					<span class="classification-cont">儿童文学</span>
				</li>
			</ul>
		</div>
		
		<div id="right-actions">
			<input id="login" type="button" value="登录" onclick="openLogin()"/>
			<p>Hi,<span id="user">游客</span></p>
		</div>
		
		<script>
			function chat(){
				$("#left-title").toggle();
				$("#breaf-introd").toggle();
				$("#social-list").toggle();
				$("#menu-list").toggle();
				$("#left-bottom").toggle();
				$("#left-chat").toggle();				
			}
			function charSend(){
				$.post("/chat/send", {"msg":$("#chat-input").val()},
  					function(status){
    					alert(status);
    					$("#chat-input").empty();
  					});
			}
			function openLogin(){
				$("#loginWindow").show();
				// .val()用来修改文本框中的内容，.html用来改变元素内部的值  .append()内部追加  .perpare()向内部预置内容
				// .after() 向备选元素之后追加  .before()在被选元素之前添加
				$("#usera").html("aaaaa");
			}
			function closeLoginWindow(){
				$("#loginWindow").hide();				
			}
			function login(){
				var username = $("#username").val();
				var password = $("#password").val();
				if (username == "" || username == undefined){
					alert("用户名不能为空");
				} else if(password == "" || password == undefined){
					alert("密码不能为空");
				}
				var reqStr = {username:username, password:password};
				console.log("发送的报文是：" + JSON.stringify(reqStr))
				$.post("/user/login",
	    			{"data":JSON.stringify(reqStr)},
  					function(resp){
    					console.log(resp);
    					if ("ok" == resp){
    		    			console.log("返回的是ok");
    		    			alert("登录成功");
    		    			$("#loginWindow").hide();
    		    			$("#user").val(username);
    					}
  					}
  				);
			}
		</script>
	</body>
</html>


